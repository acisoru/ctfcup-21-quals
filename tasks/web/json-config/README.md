# Web | hard? | Json config

## Информация

> В компании X очень любят делать свои микросервисы для всего.
>
> Хакеры успешно нашли во внутренней сети микросервис, скорее всего предназначенный для хранения конфигураций других микро-сервисов.
> 
> Интересно, есть ли в нем дыры...

## Деплой

Нужен deploy на команду (внутри RCE, причем сплойты можно рейсить что не оч круто).
```sh
cd deploy
docker-compose up --build -d
```

## Выдать участинкам

Архив из директории [public/](public/) и IP:PORT сервера

## Описание

Сервис позволяет хранить настройки и дампить их в .zip файл.

Внутри есть вызов `subprocess.check_output` для создания zip-архива, но аргументы для него генерируются программно и таск запускается в celery.
Стэк: Python, Celery, Redis. Причем celery и само приложение используют один и тот же редис с одной БД.
## Решение

1. Из-за того, что celery и приложение используют один и тот же редис, возможно выполнить свой celery-task с произвольными параметрами.
2. Нужно понять как таски хранятся в redis, создать свой таск и положить его в очередь с помощью функционала приложения.

[Эксплоит](solution/sploit.py)

## Флаг

`CUP{e23ec64254038e87fe5ed772c3d801b5}`
